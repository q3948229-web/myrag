# MyRAG: 基于检索的问答系统

## 项目简介

MyRAG 是一个基于检索的问答系统，支持以下功能：

- 从文本或 PDF 文件中加载知识库。
- 提供三种检索算法：
  1. Faiss（高效向量检索）
  2. 简单余弦相似度（教学演示）
  3. 手写 TF-IDF（教学演示）
- 支持两种运行模式：
  1. 检索 + 调用大模型生成回答（完整 RAG 流程）
  2. 仅检索并返回匹配内容（不调用大模型）

## 环境依赖

- Python 3.8+
- 必要的 Python 包：

  ```bash
  pip install -r requirements.txt
  ```

## 使用方法

1. 初始化知识库：
   - 从文件加载知识库并生成向量：

     请选择知识库初始化方式:
     1. 从文件读取数据并生成向量 (支持txt和pdf)
     2. 从已有的向量化知识库加载

    ```

2. 选择运行模式：

    ```   
   请选择运行模式:
   1. 检索 + 调用大模型生成回答 (完整RAG)
   2. 仅检索并返回匹配内容 (不调用大模型)
   ```
3. 选择检索算法：
   ```
   请选择检索算法:
   1. Faiss (开源高效算法)
   2. 简单余弦相似度 (教学算法)
   3. 手写TF-IDF (教学算法)
   ```
4. 输入问题并查看结果。

## 示例运行结果

### 示例知识库

`knowledge_base.txt` 内容：
```
Python是一种高级编程语言，广泛用于Web开发、数据科学和人工智能。
C++是一种编程语言，常用于系统编程和游戏开发。
机器学习是人工智能的一个分支，专注于让计算机从数据中学习。
深度学习是机器学习的一个子领域，使用神经网络进行学习。
上海大学是中国的一所211院校，有计算机学院。
```

### 示例对话

#### 模式 1: 检索 + 调用大模型生成回答

```
请输入你的问题: 什么是Python？
检索到的知识: Python是一种高级编程语言，广泛用于Web开发、数据科学和人工智能。
生成的回答: Python 是一种高级编程语言，常用于 Web 开发、数据科学和人工智能。
```

#### 模式 2: 仅检索并返回匹配内容

```
请输入你的问题: 什么是机器学习？
检索到的内容:
[1] 机器学习是人工智能的一个分支，专注于让计算机从数据中学习。
```

## 文件说明

- `rag_simple.py`：主程序文件，包含知识库加载、检索和问答逻辑。
- `knowledge_base.txt`：示例知识库文件。
- `.gitignore`：忽略文件配置，避免上传无关内容。

## 注意事项

- 确保已安装必要的依赖。
- 如果使用 Faiss 检索，请确保安装了 `faiss-cpu`。
- 如果调用大模型，请确保本地服务（如 Ollama）已启动。
